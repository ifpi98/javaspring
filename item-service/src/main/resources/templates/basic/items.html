<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>상품목록</title>
    <link href="../css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet">

    <!--타임리프에 대해서-->
    <!--타임리프 뷰 템플릿을 거치지 않은 경우 -->
    <!--href="../css/bootstrap.min.css" (원래값)-->
    <!--뷰 템플릿을 거쳐서 들어온 경우는 아래 값을 사용하라는 의미-->
    <!--th:href="@{/css/bootstrap.min.css}"-->

    <!--HTML을 그대로 볼 때는 href 속성이 사용되고, 뷰 템플릿을 거치면 th:href의 값이-->
    <!--href로 대체되면서 동적으로 변경할 수 있다.-->

    <!--    URL 링크 표현식 - @{url}-->
    <!--    URL 링크 표현식을 사용하면 서블릿 컨텍스트를 자동으로 포함한다.-->


    <style>

    </style>

</head>
<body>

    <div class="container" style="max-width: 600px">
        <div class="py-5 text-center">
            <h2> 상품 목록 </h2>
        </div>
        <div class="row">
            <div class="col">
                <button class="btn btn-primary float-end" type="button" onclick="location.href='addForm.html'" th:onclick="|location.href='@{/basic/items/add}'|"> 상품 등록 </button>
            </div>
        </div>

<!--        onclick="location.href='addForm.html'" 을 타임리프 방식으로 대체-->
<!--        th:onclick="|location.href='@{basic/items/add}'|"-->
<!--            리터럴 대체 - |...|-->
<!--            <span th:text="'welcome to our application, ' + ${user.name} + '!'"> </span>-->
<!--            <span th:text="|Welcome to our application, ${user.name}-->
<!--            -->
<!--            결과를 다음과 같이 만들어야 하는데-->
<!--            location.href='/basic/items/add'-->
<!--            th:onclick="'location.href=' + '\'' @{/basic/items/add} + '\''"-->
<!--            th:onclick="|location.href='@{/basic/items/add}'|"-->

<!--        반복 출력 - th:each-->
<!--        <tr th:each="item : ${items}">-->
<!--        반복은 th:each를 사용한다. 이렇게 하면 모델에 포함된 items 컬렉션 데이터가 item변수에 하나씩 포함되고,-->
<!--        반복만 안에서 item 변수를 사용할 수 있다.-->
<!--        컬렉션의 수만큼 <tr>...</tr> 이 하위 테그를 포함해서 생성된다.-->
<!--        -->
<!--        내용 변경 - th:text-->
<!--        <td th:text="${items.price}">10000</td>-->
<!--        모델에 포함된 값이나, 타임리프 변수를 선언한 값을 조회할 수 있다.-->
<!--        프로퍼티 접근법을 사용한다. ( item.getPrice() )-->
<!--        -->
<!--        내용의 값을 th:text의 값으로 변경한다.-->
<!--        여기서는 10000을 ${item.price}의 값으로 변경한다.-->

<!--            URL 링크 표현식 2 - @{...}-->
<!--            th:href="@{/basic/items/{itemId}(itemId=${item.id})}"-->
<!--            상품 ID를 선택하는 링크를 확인해보자.-->

<!--        URL 링크 간단히-->
<!--        th:href="@{|/basic/items/${item.id}|}"-->
<!--        -->
<!--        경로 변수 ( {itemId} ) 뿐만 아니라 쿼리 파라미터도 생성한다.-->
<!--        th:href="@{/basic/items/{itemId}(itemId=${item.id}, query='test')}"-->
<!--        생성 링크: http://localhost:8080/basic/items/1?query=test-->
<!--        -->
<!--        순수 HTML을 그대로 유지하면서 뷰 템플릿도 사용할 수 있는 타임리프의 특징을 -->
<!--        내츄럴 템플릿 이라고 한다.-->

        <hr class="my-4">
        <div>

            <table class="table">
                <thead>
                    <tr>
                        <th> ID </th>
                        <th> 상품명 </th>
                        <th> 가격 </th>
                        <th> 수량 </th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item : ${items}">
                        <td><a href="item.html" th:href="@{/basic/items/{itemId}(itemId=${item.id})}" th:text="${item.id}"> 회원ID </a></td>
                        <td><a href="item.html" th:href="@{|/basic/items/${item.id}|}" th:text="${item.getItemName()}"> 상품명 </a></td>
                        <td th:text="${item.getPrice()}"> 10000 </td>
                        <td th:text="${item.getQuantity()}"> 10 </td>
                    </tr>
                </tbody>
            </table>

        </div>

    </div>

</body>
</html>

